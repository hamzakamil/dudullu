<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dudullu Kurs ve Okul Talebelerine Yardım Derneği - Kız Talebe Yurdu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&family=IBM+Plex+Serif:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f766e;
            --primary-dark: #0b5d57;
            --secondary: #14b8a6;
            --light: #ecfeff;
            --dark: #0f172a;
            --gray: #64748b;
            --light-gray: #f1f5f9;
            --white: #ffffff;
            --success: #16a34a;
            --shadow: 0 10px 20px -12px rgba(15, 23, 42, 0.35), 0 6px 12px -8px rgba(15, 23, 42, 0.3);
            --shadow-lg: 0 25px 45px -30px rgba(15, 23, 42, 0.45), 0 18px 35px -22px rgba(15, 23, 42, 0.35);
            --radius: 14px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'IBM Plex Sans', sans-serif;
            color: var(--dark);
            background: radial-gradient(circle at top left, #e0f7f6 0%, #ffffff 45%, #ecfeff 100%);
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
        }

        body::before,
        body::after {
            content: "";
            position: fixed;
            z-index: -1;
            width: 480px;
            height: 480px;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.45;
            pointer-events: none;
        }

        body::before {
            top: -120px;
            left: -160px;
            background: radial-gradient(circle, rgba(20, 184, 166, 0.35), rgba(15, 118, 110, 0.08));
        }

        body::after {
            bottom: -180px;
            right: -140px;
            background: radial-gradient(circle, rgba(34, 197, 94, 0.25), rgba(16, 185, 129, 0.05));
        }

        h1, h2, h3, h4, h5 {
            font-family: 'IBM Plex Serif', serif;
            font-weight: 700;
            line-height: 1.2;
            letter-spacing: -0.015em;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section {
            padding: 90px 0;
            scroll-margin-top: 110px;
        }

        /* Header Styles - GÜNCELLENDİ */
        header {
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(15, 118, 110, 0.12);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            height: 70px;
            width: auto;
            object-fit: contain;
        }

        .logo-text h1 {
            font-size: 16px;
            color: var(--primary);
            letter-spacing: 0.01em;
        }

        .logo-text p {
            font-size: 0.9rem;
            color: var(--gray);
            font-style: italic;
        }

        /* NAV MENÜ GÜNCELLEMESİ - Butonlar eşit boyda ve tek satır */
        .desktop-nav {
            display: flex;
            gap: 5px;
        }

        .nav-link {
            padding: 15px 20px;
            border-radius: 8px;
            font-weight: 500;
            color: var(--dark);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;
            min-height: 50px;
            box-sizing: border-box;
            border: 1px solid transparent;
        }

        .nav-link:hover, .nav-link.active {
            background-color: var(--primary);
            color: var(--white);
            box-shadow: var(--shadow);
            transform: translateY(-1px);
        }

        .donate-btn {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
            box-shadow: var(--shadow);
            white-space: nowrap;
            min-height: 50px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .donate-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--dark);
            cursor: pointer;
        }

        /* Mobile Navigation - GÜNCELLENDİ */
        .mobile-nav {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background-color: var(--white);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            padding: 20px;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .mobile-nav.active {
            right: 0;
        }

        .mobile-nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .close-menu {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }

        .mobile-nav .nav-link {
            padding: 15px 20px;
            white-space: nowrap;
            min-height: 50px;
            align-items: center;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .overlay.active {
            display: block;
        }

        /* ÖDEME YÖNTEMİ SEÇİMİ */
        .payment-method-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .payment-method-tabs {
            display: flex;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .payment-method-tab {
            padding: 15px 30px;
            border: none;
            background-color: var(--light-gray);
            color: var(--dark);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
            white-space: nowrap;
        }

        .payment-method-tab.active {
            background-color: var(--primary);
            color: var(--white);
        }

        /* KREDİ KARTI FORMU */
        .credit-card-form {
            background-color: var(--white);
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow-lg);
            max-width: 800px;
            margin: 0 auto;
        }

        .card-input-group {
            margin-bottom: 20px;
        }

        .card-input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .card-input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-family: 'IBM Plex Sans', sans-serif;
        }

        .card-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }

        .installment-selector {
            margin: 20px 0;
            padding: 15px;
            background-color: var(--light-gray);
            border-radius: 8px;
        }

        .installment-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .installment-option {
            padding: 10px;
            background-color: var(--white);
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .installment-option:hover, .installment-option.selected {
            background-color: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        /* İyizco Ödeme Simülasyonu */
        .payment-processing {
            text-align: center;
            padding: 40px;
            background-color: var(--light);
            border-radius: var(--radius);
            margin: 20px 0;
            display: none;
        }

        .payment-processing.active {
            display: block;
        }

        .payment-success {
            text-align: center;
            padding: 40px;
            background-color: #d1fae5;
            border-radius: var(--radius);
            margin: 20px 0;
            display: none;
        }

        .payment-success.active {
            display: block;
        }

        /* Diğer stiller aynı kalacak... */
        /* Hero Section */
        .hero {
            margin-top: 100px;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            position: relative;
            height: 520px;
            outline: 1px solid rgba(255, 255, 255, 0.4);
        }

        .hero-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(15, 118, 110, 0.9), rgba(11, 93, 87, 0.65), transparent);
            display: flex;
            align-items: flex-end;
            padding: 40px;
            backdrop-filter: blur(2px);
        }

        .hero-content {
            color: var(--white);
            max-width: 700px;
            animation: fadeUp 0.9s ease both;
        }

        .hero-content h2 {
            font-size: 3.2rem;
            margin-bottom: 20px;
            text-shadow: 0 8px 20px rgba(17, 24, 39, 0.35);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        /* Stats Section */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .stat-card {
            background-color: var(--white);
            border-radius: var(--radius);
            padding: 30px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-top: 4px solid var(--primary);
            border: 1px solid rgba(15, 23, 42, 0.06);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card:nth-child(2) {
            border-top-color: var(--secondary);
        }

        .stat-card:nth-child(3) {
            border-top-color: var(--success);
        }

        .stat-card:nth-child(4) {
            border-top-color: #3b82f6;
        }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .stat-card:nth-child(2) .stat-icon {
            color: var(--secondary);
        }

        .stat-card:nth-child(3) .stat-icon {
            color: var(--success);
        }

        .stat-card:nth-child(4) .stat-icon {
            color: #3b82f6;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 5px;
        }

        /* Cards Section */
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .card {
            background: linear-gradient(135deg, var(--primary), #0b5d57);
            border-radius: var(--radius);
            padding: 40px 30px;
            color: var(--white);
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-6px);
        }

        .card:nth-child(2) {
            background: linear-gradient(135deg, var(--secondary), #0ea5a4);
        }

        .card:nth-child(3) {
            background: linear-gradient(135deg, var(--success), #15803d);
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background-color: rgba(255, 255, 255, 0.2);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* CTA Section */
        .cta {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--radius);
            padding: 60px 40px;
            text-align: center;
            color: var(--white);
            margin: 60px 0;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }

        .cta::before {
            content: "";
            position: absolute;
            inset: -80px;
            background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.25), transparent 60%);
            opacity: 0.6;
        }

        .cta h3 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .cta p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        /* About Section */
        .about-header {
            position: relative;
            height: 300px;
            border-radius: var(--radius);
            overflow: hidden;
            margin-bottom: 40px;
        }

        .about-header-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.3);
        }

        .about-header-text {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .about-header-text h2 {
            font-size: 4rem;
            color: var(--white);
        }

        .about-content {
            background-color: var(--white);
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
            border: 1px solid rgba(15, 23, 42, 0.06);
        }

        /* Dormitory Section */
        .dormitory {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            align-items: center;
        }

        .dormitory-image {
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .dormitory-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Donation Section */
        .donation-form {
            background-color: var(--white);
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow-lg);
            max-width: 900px;
            margin: 0 auto;
            border: 1px solid rgba(15, 23, 42, 0.06);
        }

        .amount-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .amount-option {
            padding: 20px;
            background-color: var(--light-gray);
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 10px 15px -20px rgba(15, 23, 42, 0.45);
        }

        .amount-option:hover, .amount-option.selected {
            background-color: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .custom-amount {
            position: relative;
            margin: 20px 0;
        }

        .custom-amount input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1.1rem;
        }

        .custom-amount span {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-weight: 600;
            color: var(--gray);
        }

        .donor-info {
            background-color: var(--light-gray);
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-family: 'IBM Plex Sans', sans-serif;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .bank-info {
            background-color: #f0f9ff;
            border-radius: 10px;
            padding: 30px;
            margin-top: 30px;
            border-left: 4px solid #3b82f6;
        }

        .bank-account {
            background-color: var(--white);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #e5e7eb;
        }

        .copy-btn {
            background-color: #f3f4f6;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            margin-left: 10px;
            transition: var(--transition);
        }

        .copy-btn:hover {
            background-color: #e5e7eb;
        }

        .copied {
            background-color: var(--success);
            color: var(--white);
        }

        /* Map Section */
        .map-container {
            margin-top: 30px;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            position: relative;
        }

        .map-container iframe {
            width: 100%;
            height: 400px;
            border: none;
        }

        .map-link {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background-color: var(--white);
            padding: 10px 20px;
            border-radius: 30px;
            text-decoration: none;
            color: var(--primary);
            font-weight: 600;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 10;
            backdrop-filter: blur(8px);
        }

        .map-link:hover {
            background-color: var(--primary);
            color: var(--white);
            transform: translateY(-2px);
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: var(--white);
            padding: 60px 0 30px;
            margin-top: 80px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-logo {
            height: 80px;
            margin-bottom: 20px;
            object-fit: contain;
        }

        .footer-section h4 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--white);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #d1d5db;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--white);
            padding-left: 5px;
        }

        .contact-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #d1d5db;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #374151;
            color: #9ca3af;
            font-size: 0.9rem;
        }

        /* Tax Info */
        .tax-info {
            background-color: #fff7ed;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid #f59e0b;
        }

        .tax-info p {
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }

        .tax-info span {
            font-weight: 600;
        }

        /* Important Note */
        .important-note {
            background-color: #fef2f2;
            border-radius: 8px;
            padding: 15px 20px;
            margin-top: 20px;
            border-left: 4px solid var(--primary);
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .important-note i {
            color: var(--primary);
            font-size: 1.2rem;
            margin-top: 3px;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .hero-content h2 {
                font-size: 2.5rem;
            }
            
            .cta h3 {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .desktop-nav, .donate-btn.desktop {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .hero {
                height: 400px;
                margin-top: 80px;
            }
            
            .hero-content h2 {
                font-size: 2rem;
            }
            
            .hero-overlay {
                padding: 20px;
            }
            
            .section {
                padding: 60px 0;
            }
            
            .about-header-text h2 {
                font-size: 2.5rem;
            }
            
            .map-link {
                position: relative;
                bottom: auto;
                right: auto;
                margin-top: 15px;
                display: inline-flex;
            }

            .payment-method-tabs {
                flex-direction: column;
            }

            .card-row {
                grid-template-columns: 1fr;
            }

            .payment-provider-selector {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .hero {
                height: 350px;
            }
            
            .hero-content h2 {
                font-size: 1.8rem;
            }
            
            .stat-card, .card, .donation-form, .about-content, .credit-card-form {
                padding: 25px;
            }
            
            .amount-options {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .cta {
                padding: 40px 20px;
            }
            
            .cta h3 {
                font-size: 1.8rem;
            }
        }

        /* Utility Classes */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            border-radius: 999px;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: var(--white);
            box-shadow: var(--shadow);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background-color: var(--white);
            color: var(--primary);
            box-shadow: var(--shadow);
        }

        .btn-secondary:hover {
            background-color: var(--light);
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h2 {
            font-size: 2.5rem;
            color: var(--dark);
            margin-bottom: 15px;
        }

        .section-title p {
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }

        .hidden {
            display: none !important;
        }

        .payment-section {
            display: none;
        }

        .payment-section.active {
            display: block;
        }

        /* Ödeme Sağlayıcı Seçimi */
        .payment-provider-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .payment-provider-option {
            padding: 20px;
            background-color: var(--light-gray);
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .payment-provider-option:hover, .payment-provider-option.selected {
            background-color: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .payment-provider-option i {
            font-size: 1.5rem;
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(16px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo-container">
                <img src="dereciler_logo.png" alt="Dudullu Kurs ve Okul Talebelerine Yardım Derneği Logo" class="logo">
                <div class="logo-text">
                    <h1>Dudullu Kurs ve Okul Talebelerine Yardım Derneği</h1>
                    <p>Nesillere sahip çıkıyoruz.</p>
                </div>
            </div>
            
            <nav class="desktop-nav">
                <a href="#ana-sayfa" class="nav-link active"><i class="fas fa-home"></i> Ana Sayfa</a>
                <a href="#hakkimizda" class="nav-link"><i class="fas fa-info-circle"></i> Hakkımızda</a>
                <a href="#yurt" class="nav-link"><i class="fas fa-building"></i> Yurt Bilgileri</a>
                <a href="#iletisim" class="nav-link"><i class="fas fa-phone"></i> İletişim</a>
            </nav>
            
            <a href="bagis.html" class="donate-btn desktop">
                <i class="fas fa-heart"></i> Bağış Yap
            </a>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <div class="overlay" id="overlay"></div>
    <div class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-header">
            <h3>Menü</h3>
            <button class="close-menu" id="closeMenuBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <a href="#ana-sayfa" class="nav-link active"><i class="fas fa-home"></i> Ana Sayfa</a>
        <a href="#hakkimizda" class="nav-link"><i class="fas fa-info-circle"></i> Hakkımızda</a>
        <a href="#yurt" class="nav-link"><i class="fas fa-building"></i> Yurt Bilgileri</a>
        <a href="bagis.html" class="nav-link"><i class="fas fa-heart"></i> Bağış Yap</a>
        <a href="#iletisim" class="nav-link"><i class="fas fa-phone"></i> İletişim</a>
        <a href="bagis.html" class="donate-btn">
            <i class="fas fa-heart"></i> Bağış Yap
        </a>
    </div>

    <!-- Main Content -->
    <main>
        <!-- Ana Sayfa -->
        <section id="ana-sayfa" class="section">
            <div class="container">
                <!-- Hero Section -->
                <div class="hero">
                    <img src="dereciler.jpg" alt="Dereciler Kız Talebe Yurdu" class="hero-image">
                    <div class="hero-overlay">
                        <div class="hero-content">
                            <h2>“Bir neslin ihyası kötülerin imhasıyla değil, neslin eğitim ve terbiyesiyle mümkündür”</h2>
                            <p>2022 yılından bu yana, milletimizin geleceği olan gençlerimize sahip çıkıyor, eğitim yolculuklarında onları destekliyoruz.</p>
                            <a href="bagis.html" class="btn btn-primary">
                                <i class="fas fa-heart"></i> Hemen Bağış Yap
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Stats Section -->
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-number">114</div>
                        <p>Talebe Kapasitemiz</p>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-award"></i>
                        </div>
                        <div class="stat-number">2022</div>
                        <p>Kuruluş Yılı</p>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="stat-number">1</div>
                        <p>Modern Yurt Binası</p>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-list-check"></i>
                        </div>
                        <div class="stat-number">15</div>
                        <p>Hizmet Başlıklarımız</p>
                    </div>
                </div>

                <!-- Cards Section -->
                <div class="cards">
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <h3>Güvenli Ortam</h3>
                        <p>Öğrencilerimiz için huzurlu, güvenli ve modern bir yaşam alanı sağlıyoruz.</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <h3>Eğitim Desteği</h3>
                        <p>Milli ve manevi değerlere bağlı, ilimle donanmış bireyler yetiştiriyoruz.</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-hands-helping"></i>
                        </div>
                        <h3>Sizin Desteğinizle</h3>
                        <p>Bağışlarınızla daha fazla öğrenciye ulaşıyor, umutlarına ışık oluyoruz.</p>
                    </div>
                </div>

                <!-- CTA Section -->
                <div class="cta">
                    <i class="fas fa-heart fa-3x" style="margin-bottom: 20px; opacity: 0.8;"></i>
                    <h3>Bir Gencin Hayatına Dokunun</h3>
                    <p>Her bağış, bir gencin eğitim hayatına yapılan en değerli yatırımdır. Banka havalesi veya kredi kartı ile kolayca destek olabilirsiniz.</p>
                    <a href="bagis.html" class="btn btn-secondary">
                        <i class="fas fa-donate"></i> Bağış Yap
                    </a>
                </div>
            </div>
        </section>

        <!-- Diğer bölümler aynı kalacak... -->
        <!-- Hakkımızda -->
        <section id="hakkimizda" class="section" style="background-color: var(--light);">
            <div class="container">
                <div class="section-title">
                    <h2>Hakkımızda</h2>
                    <p>Dudullu Kurs ve Okul Talebelerine Yardım Derneği olarak misyonumuz ve vizyonumuz</p>
                </div>
                
                <div class="about-header">
                    <img src="dereciler.jpg" alt="Dereciler Kız Talebe Yurdu" class="about-header-image">
                    <div class="about-header-text">
                        <h2>Hakkımızda</h2>
                    </div>
                </div>
                
                <div class="about-content">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">
                        <i class="fas fa-building"></i> HAKKIMIZDA
                    </h3>
                    <p style="margin-bottom: 20px; font-size: 1.1rem;">
                        <strong>Dudullu Kurs ve Okul Talebelerine Yardım Derneği</strong>, 2022 yılında milletimizin geleceği olan gençlerimize sahip çıkmak, eğitim yolculuklarında onları desteklemek amacıyla kurulmuştur.
                    </p>
                    <p style="margin-bottom: 20px; font-size: 1.1rem;">
                        Amacımız; milli ve manevi değerlere bağlı, ilimle donanmış, ahlaki ve sorumluluk sahibi bireyler yetiştirmektir. Bu doğrultuda, Dereciler Kız Talebe Yurdu başta olmak üzere, derneğimiz bünyesindeki öğrencilerimizin barınma, beslenme ve eğitim ihtiyaçlarını karşılayarak onların huzurlu bir ortamda öğrenimlerine devam etmelerini sağlıyoruz.
                    </p>
                    <p style="font-size: 1.1rem;">
                        Bugüne kadar birçok öğrencimizin hayatına dokunmuş olmanın mutluluğunu yaşıyoruz. Sizlerin desteğiyle daha fazla gence ulaşmayı, onların umutlarına ve hedeflerine ışık olmayı sürdürüyoruz.
                    </p>
                </div>
                
                <div class="cards">
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <h3>MİSYONUMUZ</h3>
                        <p>Öğrencilerimizin huzurlu, güvenli ve ahlaki değerlere dayalı bir ortamda eğitimlerini sürdürmelerine katkı sağlamak; onlara ilim, ahlak ve sorumluluk bilinci kazandırarak kendi geleceklerini inşa etmelerine yardımcı olmaktır.</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h3>VİZYONUMUZ</h3>
                        <p>Eğitim ve kültür alanında örnek bir müessese olma şuuruyla; milli ve manevi değerlerine sadık, ilim ve ahlakla mücehhez, kendini sürekli geliştiren bir neslin yetişmesine hizmet etmeyi gaye ediniyor; toplum nezdinde güven telkin eden, saygınlığıyla temayüz eden ve kalıcı bir değer olma istikametinde azim ve gayret gösteriyoruz.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Yurt Bilgileri -->
        <section id="yurt" class="section">
            <div class="container">
                <div class="section-title">
                    <h2>Yurt Bilgileri</h2>
                    <p>Dereciler Kız Talebe Yurdu hakkında bilgiler ve hizmetlerimiz</p>
                </div>
                
                <div class="dormitory">
                    <div class="dormitory-image">
                        <img src="dereciler.jpg" alt="Dereciler Kız Talebe Yurdu">
                    </div>
                    
                    <div>
                        <div class="card" style="margin-bottom: 30px;">
                            <h3>Dereciler Kız Talebe Yurdu</h3>
                            <p>Yurdumuz, öğrencilerimize ev konforu sunan, güvenli ve huzurlu bir ortam sağlamaktadır. Modern binamızda barınma, beslenme ve eğitim ihtiyaçları karşılanmaktadır.</p>
                        </div>
                        
                        <div class="about-content">
                            <h4 style="margin-bottom: 20px;">Hizmet Başlıklarımız</h4>
                            <ul style="list-style-type: none;">
                                <li style="margin-bottom: 15px; display: flex; align-items: flex-start;">
                                    <i class="fas fa-check-circle" style="color: var(--success); margin-right: 10px; margin-top: 5px;"></i>
                                    <span>Güvenli ve temiz barınma imkanı</span>
                                </li>
                                <li style="margin-bottom: 15px; display: flex; align-items: flex-start;">
                                    <i class="fas fa-check-circle" style="color: var(--success); margin-right: 10px; margin-top: 5px;"></i>
                                    <span>Düzenli ve sağlıklı beslenme hizmeti</span>
                                </li>
                                <li style="margin-bottom: 15px; display: flex; align-items: flex-start;">
                                    <i class="fas fa-check-circle" style="color: var(--success); margin-right: 10px; margin-top: 5px;"></i>
                                    <span>Eğitim ve kültürel etkinlik desteği</span>
                                </li>
                                <li style="margin-bottom: 15px; display: flex; align-items: flex-start;">
                                    <i class="fas fa-check-circle" style="color: var(--success); margin-right: 10px; margin-top: 5px;"></i>
                                    <span>Manevi ve ahlaki gelişim programları</span>
                                </li>
                                <li style="margin-bottom: 15px; display: flex; align-items: flex-start;">
                                    <i class="fas fa-check-circle" style="color: var(--success); margin-right: 10px; margin-top: 5px;"></i>
                                    <span>Rehberlik ve psikolojik destek</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- İletişim -->
        <section id="iletisim" class="section">
            <div class="container">
                <div class="section-title">
                    <h2>İletişim</h2>
                    <p>Bize ulaşmak için iletişim bilgilerimiz</p>
                </div>
                
                <div class="cards">
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h3>Adres</h3>
                        <p>Yukarı Dudullu, İnebolu Sok. No:2-4<br>34775 Ümraniye / İstanbul</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <h3>Telefon</h3>
                        <p>(0216) 519 34 54</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <h3>E-posta</h3>
                        <div class="contact-info">
    <i class="fas fa-envelope"></i>
    <a href="mailto:dudulluoyd2015@gmail.com" style="color: inherit; text-decoration: none;">
        dudulluoyd2015@gmail.com
    </a>
</div>

                    </div>
                </div>
                
                <!-- Harita -->
                <div class="map-container">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3011.7246977346435!2d29.154562976128685!3d41.00045497134348!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14cac9ae5cc5cac1%3A0x6822762bb3a1cd0d!2sYukar%C4%B1%20Dudullu%2C%20%C4%B0nebolu%20Sk.%20No%3A2-4%2C%2034775%20%C3%9Cmraniye%2F%C4%B0stanbul!5e0!3m2!1str!2str!4v1702400000000!5m2!1str!2str" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                    <a href="https://maps.app.goo.gl/B5e4vPZwZDgmrefD7" target="_blank" class="map-link">
                        <i class="fas fa-external-link-alt"></i> Google Maps'te Aç
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <img src="dereciler_logo.png" alt="Dudullu Kurs ve Okul Talebelerine Yardım Derneği Logo" class="footer-logo">
                    <p>Nesillere sahip çıkıyoruz.<br>“Bir neslin ihyası kötülerin imhasıyla değil, neslin eğitim ve terbiyesiyle mümkündür”</p>
                </div>
                
                <div class="footer-section">
                    <h4>Hızlı Bağlantılar</h4>
                    <ul class="footer-links">
                        <li><a href="#ana-sayfa">Ana Sayfa</a></li>
                        <li><a href="#hakkimizda">Hakkımızda</a></li>
                        <li><a href="#yurt">Yurt Bilgileri</a></li>
                        <li><a href="bagis.html">Bağış Yap</a></li>
                        <li><a href="#iletisim">İletişim</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>İletişim Bilgileri</h4>
                    <div class="contact-info">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Yukarı Dudullu, İnebolu Sk. No:2-4, 34775 Ümraniye/İstanbul</span>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-phone"></i>
                        <span>(0216) 519 34 54</span>
                    </div>
                    <div class="contact-info">
    <i class="fas fa-envelope"></i>
    <a href="mailto:dudulluoyd2015@gmail.com" style="color: inherit; text-decoration: none;">
        dudulluoyd2015@gmail.com
    </a>
</div>

                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Dudullu Kurs ve Okul Talebelerine Yardım Derneği. Tüm hakları saklıdır. | Vergi Dairesi: Sarıgazi VD. | Vergi No: 313 06 11 938</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu functionality
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const closeMenuBtn = document.getElementById('closeMenuBtn');
            const mobileNav = document.getElementById('mobileNav');
            const overlay = document.getElementById('overlay');
            const navLinks = document.querySelectorAll('.nav-link');
            
            mobileMenuBtn.addEventListener('click', function() {
                mobileNav.classList.add('active');
                overlay.classList.add('active');
            });
            
            closeMenuBtn.addEventListener('click', function() {
                mobileNav.classList.remove('active');
                overlay.classList.remove('active');
            });
            
            overlay.addEventListener('click', function() {
                mobileNav.classList.remove('active');
                overlay.classList.remove('active');
            });
            
            // Navigation active state
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    mobileNav.classList.remove('active');
                    overlay.classList.remove('active');
                    
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        e.preventDefault();
                        window.scrollTo({
                            top: targetSection.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Ödeme yöntemi seçimi
            const paymentTabs = document.querySelectorAll('.payment-method-tab');
            const paymentSections = document.querySelectorAll('.payment-section');
            
            paymentTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const method = this.getAttribute('data-method');
                    
                    // Aktif tab'ı değiştir
                    paymentTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // İlgili bölümü göster
                    paymentSections.forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // ID'yi doğru şekilde oluştur
                    let sectionId;
                    if (method === 'creditcard') {
                        sectionId = 'creditCardSection';
                    } else {
                        sectionId = `${method}TransferSection`;
                    }
                    
                    const targetSection = document.getElementById(sectionId);
                    if (targetSection) {
                        targetSection.classList.add('active');
                    } else {
                        console.error('Bölüm bulunamadı:', sectionId);
                    }
                });
            });
            
            // Bağış miktarı seçimi
            const amountOptions = document.querySelectorAll('.amount-option');
            const customAmountInput = document.getElementById('customAmount');
            
            amountOptions.forEach(option => {
                option.addEventListener('click', function() {
                    amountOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    customAmountInput.value = '';
                });
            });
            
            customAmountInput.addEventListener('input', function() {
                amountOptions.forEach(opt => opt.classList.remove('selected'));
            });
            
            // Taksit seçimi kaldırıldı - varsayılan olarak tek çekim kullanılacak
            
            // Ödeme sağlayıcı seçimi
            const paymentProviderOptions = document.querySelectorAll('.payment-provider-option');
            let selectedProvider = 'paynkolay'; // Varsayılan
            
            paymentProviderOptions.forEach(option => {
                option.addEventListener('click', function() {
                    paymentProviderOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedProvider = this.getAttribute('data-provider');
                });
            });
            
            // Backend kontrolü (sayfa yüklendiğinde)
            checkBackendConnection();
            
            async function checkBackendConnection() {
                try {
                    const response = await fetch('/api/payment/check', {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        // Backend çalışıyor
                        document.getElementById('backendWarning').style.display = 'none';
                    } else {
                        throw new Error('Backend yanıt vermiyor');
                    }
                } catch (error) {
                    // Backend yoksa uyarı göster
                    document.getElementById('backendWarning').style.display = 'flex';
                }
            }
            
            // Kredi kartı formatlama
            const cardNumberInput = document.getElementById('cardNumber');
            const cardExpiryInput = document.getElementById('cardExpiry');
            const cardCvcInput = document.getElementById('cardCvc');
            
            cardNumberInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                let matches = value.match(/\d{4,16}/g);
                let match = matches && matches[0] || '';
                let parts = [];
                
                for (let i=0, len=match.length; i<len; i+=4) {
                    parts.push(match.substring(i, i+4));
                }
                
                if (parts.length) {
                    e.target.value = parts.join(' ');
                } else {
                    e.target.value = value;
                }
            });
            
            cardExpiryInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                
                if (value.length >= 2) {
                    e.target.value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
            });
            
            cardCvcInput.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').substring(0, 3);
            });
            
            // Ödeme işlemi
            const processPaymentBtn = document.getElementById('processPayment');
            const paymentProcessing = document.getElementById('paymentProcessing');
            const paymentSuccess = document.getElementById('paymentSuccess');
            const creditCardForm = document.querySelector('.credit-card-form');
            
            processPaymentBtn.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Form validasyonu
                const selectedAmount = document.querySelector('.amount-option.selected');
                const customAmount = customAmountInput.value;
                let amount = '';
                
                if (selectedAmount) {
                    amount = selectedAmount.getAttribute('data-amount');
                } else if (customAmount) {
                    amount = customAmount;
                }
                
                if (!amount || parseFloat(amount) < 10) {
                    alert('Lütfen en az 10 TL bağış miktarı seçiniz.');
                    return;
                }
                
                // Kart bilgileri validasyonu
                const cardNumber = cardNumberInput.value.replace(/\s/g, '');
                const cardExpiry = cardExpiryInput.value;
                const cardCvc = cardCvcInput.value;
                const cardHolderName = document.getElementById('cardHolderName').value;
                const donorName = document.getElementById('donorName').value || '';
                const donorEmail = document.getElementById('donorEmail').value || '';
                const donorPhone = document.getElementById('donorPhone').value || '';
                
                if (!cardNumber || cardNumber.length < 16) {
                    alert('Lütfen geçerli bir kart numarası giriniz.');
                    return;
                }
                
                if (!cardExpiry || !cardExpiry.includes('/')) {
                    alert('Lütfen geçerli bir son kullanma tarihi giriniz (AA/YY).');
                    return;
                }
                
                if (!cardCvc || cardCvc.length < 3) {
                    alert('Lütfen geçerli bir CVC numarası giriniz.');
                    return;
                }
                
                if (!cardHolderName) {
                    alert('Lütfen kart üzerindeki ismi giriniz.');
                    return;
                }
                
                // Ödeme sağlayıcısına göre işlem yap
                // Taksit seçeneği kaldırıldı, varsayılan olarak tek çekim (1) kullanılıyor
                const installment = 1;
                
                creditCardForm.style.display = 'none';
                paymentProcessing.classList.add('active');
                
                // Ödeme verilerini hazırla
                const paymentData = {
                    provider: selectedProvider,
                    amount: parseFloat(amount),
                    cardNumber: cardNumber,
                    cardExpiry: cardExpiry,
                    cardCvc: cardCvc,
                    cardHolderName: cardHolderName,
                    installment: parseInt(installment),
                    donorName: donorName,
                    donorEmail: donorEmail,
                    donorPhone: donorPhone
                };
                
                // Seçilen ödeme sağlayıcısına göre işlem yap
                processPaymentWithProvider(paymentData);
            });
            
            // Copy to clipboard functionality
            const copyButtons = document.querySelectorAll('.copy-btn');
            
            copyButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const textToCopy = this.getAttribute('data-text');
                    
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        const originalText = this.textContent;
                        this.textContent = 'Kopyalandı!';
                        this.classList.add('copied');
                        
                        setTimeout(() => {
                            this.textContent = originalText;
                            this.classList.remove('copied');
                        }, 2000);
                    }).catch(err => {
                        alert('Kopyalama başarısız. Lütfen manuel olarak kopyalayın.');
                        console.error('Kopyalama hatası: ', err);
                    });
                });
            });
            
            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href');
                    
                    if (targetId === '#') return;
                    
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        e.preventDefault();
                        window.scrollTo({
                            top: targetSection.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Update active nav link on scroll
            window.addEventListener('scroll', function() {
                const sections = document.querySelectorAll('section[id]');
                const scrollPosition = window.scrollY + 100;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    const sectionId = section.getAttribute('id');
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${sectionId}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            });
        });
        
        // Ödeme Sağlayıcı Entegrasyon Fonksiyonları
        async function processPaymentWithProvider(paymentData) {
            const paymentProcessing = document.getElementById('paymentProcessing');
            const paymentSuccess = document.getElementById('paymentSuccess');
            const creditCardForm = document.querySelector('.credit-card-form');
            
            try {
                let result;
                
                // Seçilen ödeme sağlayıcısına göre işlem yap
                switch(paymentData.provider) {
                    case 'paynkolay':
                        result = await processPaynkolayPayment(paymentData);
                        break;
                    case 'iyizico':
                        result = await processIyizicoPayment(paymentData);
                        break;
                    case 'sipay':
                        result = await processSipayPayment(paymentData);
                        break;
                    case 'kuveytturk':
                        result = await processKuveytTurkPayment(paymentData);
                        break;
                    default:
                        throw new Error('Geçersiz ödeme sağlayıcısı');
                }
                
                if (result.success) {
                    // 3D Secure yönlendirmesi varsa
                    if (result.redirectUrl) {
                        // Kuveyt Türk için form gönderimi zaten yapıldı
                        if (paymentData.provider === 'kuveytturk') {
                            return;
                        }
                        window.location.href = result.redirectUrl;
                        return;
                    }
                    
                    // HTML içerik varsa (İyizico 3D Secure veya Paynkolay 3D)
                    if (result.htmlContent) {
                        const popup = window.open('', '3DSecure', 'width=600,height=700');
                        popup.document.write(result.htmlContent);
                        popup.document.close();
                        return;
                    }
                    
                    // Başarılı ödeme
                    paymentProcessing.classList.remove('active');
                    paymentSuccess.classList.add('active');
                    
                    // Demo modu uyarısı
                    if (result.message && result.message.includes('Demo modu')) {
                        const successMessage = document.querySelector('#paymentSuccess p');
                        if (successMessage) {
                            successMessage.innerHTML = `
                                <strong>Demo Modu:</strong> Bu bir test ödemesidir. Gerçek ödeme için backend entegrasyonu gereklidir.<br><br>
                                <strong>Ödeme Bilgileri:</strong><br>
                                Sağlayıcı: ${paymentData.provider.toUpperCase()}<br>
                                Miktar: ${paymentData.amount} TL<br>
                                İşlem ID: ${result.transactionId}<br><br>
                                <small style="color: #f59e0b;">
                                    <i class="fas fa-info-circle"></i> Gerçek ödemeler için backend API'lerini kurmanız gerekmektedir.
                                </small>
                            `;
                        }
                    }
                    
                    console.log('Ödeme Başarılı:', {
                        provider: paymentData.provider,
                        transactionId: result.transactionId,
                        miktar: paymentData.amount + ' TL',
                        demoMode: result.message ? true : false
                    });
                    
                    // Formu sıfırla
                    setTimeout(function() {
                        creditCardForm.style.display = 'block';
                        document.getElementById('cardNumber').value = '';
                        document.getElementById('cardExpiry').value = '';
                        document.getElementById('cardCvc').value = '';
                        document.getElementById('cardHolderName').value = '';
                        document.getElementById('donorName').value = '';
                        document.getElementById('donorEmail').value = '';
                        document.getElementById('donorPhone').value = '';
                        document.getElementById('customAmount').value = '';
                        document.querySelectorAll('.amount-option').forEach(opt => opt.classList.remove('selected'));
                        paymentSuccess.classList.remove('active');
                    }, 10000);
                } else {
                    throw new Error(result.message || 'Ödeme işlemi başarısız oldu');
                }
            } catch (error) {
                console.error('Ödeme Hatası:', error);
                paymentProcessing.classList.remove('active');
                creditCardForm.style.display = 'block';
                alert('Ödeme işlemi sırasında bir hata oluştu: ' + error.message + '\n\nLütfen tekrar deneyiniz veya banka havalesi ile bağış yapınız.');
            }
        }

        // Paynkolay VPOS Entegrasyonu
        async function processPaynkolayPayment(paymentData) {
            // NOT: Gerçek API anahtarları backend'de saklanmalı ve güvenli bir şekilde kullanılmalıdır
            const backendUrl = '/api/payment/paynkolay'; // Backend endpoint'iniz

            const paynkolayData = {
                amount: paymentData.amount.toFixed(2),
                cardNumber: paymentData.cardNumber,
                cardExpiry: paymentData.cardExpiry,
                cardCvc: paymentData.cardCvc,
                cardHolderName: paymentData.cardHolderName,
                donorName: paymentData.donorName || 'Bağışçı',
                donorEmail: paymentData.donorEmail || '',
                donorPhone: paymentData.donorPhone || '',
                installment: paymentData.installment
            };

            try {
                const response = await fetch(backendUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(paynkolayData)
                });

                if (!response.ok) {
                    throw new Error('Backend hatası: ' + response.status);
                }

                const result = await response.json();

                if (result.status === 'success' && result.htmlContent) {
                    return {
                        success: true,
                        htmlContent: result.htmlContent,
                        transactionId: result.transactionId
                    };
                } else if (result.status === 'success') {
                    return {
                        success: true,
                        transactionId: result.transactionId
                    };
                } else {
                    throw new Error(result.errorMessage || 'Paynkolay ödeme işlemi başarısız');
                }
            } catch (error) {
                if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError') || error.status === 404) {
                    console.warn('Backend bağlantısı yok, demo modunda çalışılıyor');
                    return new Promise((resolve) => {
                        setTimeout(() => {
                            resolve({
                                success: true,
                                transactionId: generateOrderId(),
                                message: 'Demo modu: Gerçek ödeme için backend entegrasyonu gerekli'
                            });
                        }, 2000);
                    });
                } else {
                    throw error;
                }
            }
        }
        
        // İyizico Ödeme Entegrasyonu
        async function processIyizicoPayment(paymentData) {
            // NOT: Gerçek API anahtarları backend'de saklanmalı ve güvenli bir şekilde kullanılmalıdır
            // Bu örnekte backend API endpoint'i kullanılıyor
            
            const backendUrl = '/api/payment/iyizico'; // Backend endpoint'iniz
            
            const iyizicoData = {
                locale: 'tr',
                conversationId: generateConversationId(),
                price: paymentData.amount.toFixed(2),
                paidPrice: paymentData.amount.toFixed(2),
                currency: 'TRY',
                installment: paymentData.installment,
                basketId: generateBasketId(),
                paymentCard: {
                    cardHolderName: paymentData.cardHolderName,
                    cardNumber: paymentData.cardNumber,
                    expireMonth: paymentData.cardExpiry.split('/')[0],
                    expireYear: '20' + paymentData.cardExpiry.split('/')[1],
                    cvc: paymentData.cardCvc
                },
                buyer: {
                    id: generateBuyerId(),
                    name: paymentData.donorName ? paymentData.donorName.split(' ')[0] : 'Bağışçı',
                    surname: paymentData.donorName ? (paymentData.donorName.split(' ').slice(1).join(' ') || paymentData.donorName.split(' ')[0]) : '',
                    email: paymentData.donorEmail || '',
                    phoneNumber: paymentData.donorPhone || '',
                    identityNumber: '',
                    city: '',
                    country: 'Turkey'
                },
                billingAddress: {
                    contactName: paymentData.donorName || 'Bağışçı',
                    city: '',
                    country: 'Turkey',
                    address: ''
                },
                shippingAddress: {
                    contactName: paymentData.donorName || 'Bağışçı',
                    city: '',
                    country: 'Turkey',
                    address: ''
                },
                basketItems: [{
                    id: 'BAGIS001',
                    name: 'Bağış',
                    category1: 'Bağış',
                    itemType: 'PHYSICAL',
                    price: paymentData.amount.toFixed(2)
                }]
            };
            
            try {
                // Backend'e istek gönder (API anahtarları backend'de saklanmalı)
                const response = await fetch(backendUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(iyizicoData)
                });
                
                if (!response.ok) {
                    throw new Error('Backend hatası: ' + response.status);
                }
                
                const result = await response.json();
                
                if (result.status === 'success' && result.htmlContent) {
                    // 3D Secure sayfasını göster
                    return {
                        success: true,
                        redirectUrl: null,
                        htmlContent: result.htmlContent,
                        transactionId: result.conversationId
                    };
                } else if (result.status === 'success' && result.paymentId) {
                    return {
                        success: true,
                        transactionId: result.paymentId
                    };
                } else {
                    throw new Error(result.errorMessage || 'İyizico ödeme işlemi başarısız');
                }
            } catch (error) {
                // Backend yoksa veya hata varsa, demo modunda çalış
                if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError') || error.status === 404) {
                    console.warn('Backend bağlantısı yok, demo modunda çalışılıyor');
                    // Demo modunda başarılı ödeme simülasyonu
                    return new Promise((resolve) => {
                        setTimeout(() => {
                            resolve({
                                success: true,
                                transactionId: generateOrderId(),
                                message: 'Demo modu: Gerçek ödeme için backend entegrasyonu gerekli'
                            });
                        }, 2000); // 2 saniye bekle (gerçekçi görünsün)
                    });
                } else {
                    throw error;
                }
            }
        }
        
        // Sipay Ödeme Entegrasyonu
        async function processSipayPayment(paymentData) {
            // NOT: Gerçek API anahtarları backend'de saklanmalı ve güvenli bir şekilde kullanılmalıdır
            const backendUrl = '/api/payment/sipay'; // Backend endpoint'iniz
            
            const sipayData = {
                amount: paymentData.amount.toFixed(2),
                currency: 'TRY',
                installment: paymentData.installment,
                card_number: paymentData.cardNumber,
                card_expiry_month: paymentData.cardExpiry.split('/')[0],
                card_expiry_year: '20' + paymentData.cardExpiry.split('/')[1],
                card_cvv: paymentData.cardCvc,
                card_holder_name: paymentData.cardHolderName,
                customer_name: paymentData.donorName || 'Bağışçı',
                customer_email: paymentData.donorEmail || '',
                customer_phone: paymentData.donorPhone || '',
                order_id: generateOrderId(),
                order_description: 'Bağış',
                return_url: window.location.origin + '/payment/callback',
                cancel_url: window.location.origin + '/payment/cancel'
            };
            
            try {
                // Backend'e istek gönder (API anahtarları backend'de saklanmalı)
                const response = await fetch(backendUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(sipayData)
                });
                
                if (!response.ok) {
                    throw new Error('Backend hatası: ' + response.status);
                }
                
                const result = await response.json();
                
                if (result.status === 'success' && result.redirect_url) {
                    // 3D Secure yönlendirmesi
                    return {
                        success: true,
                        redirectUrl: result.redirect_url,
                        transactionId: result.transaction_id
                    };
                } else if (result.status === 'success') {
                    return {
                        success: true,
                        transactionId: result.transaction_id
                    };
                } else {
                    throw new Error(result.error_message || 'Sipay ödeme işlemi başarısız');
                }
            } catch (error) {
                // Backend yoksa veya hata varsa, demo modunda çalış
                if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError') || error.status === 404) {
                    console.warn('Backend bağlantısı yok, demo modunda çalışılıyor');
                    // Demo modunda başarılı ödeme simülasyonu
                    return new Promise((resolve) => {
                        setTimeout(() => {
                            resolve({
                                success: true,
                                transactionId: generateOrderId(),
                                message: 'Demo modu: Gerçek ödeme için backend entegrasyonu gerekli'
                            });
                        }, 2000); // 2 saniye bekle (gerçekçi görünsün)
                    });
                } else {
                    throw error;
                }
            }
        }
        
        // Kuveyt Türk Online POS Entegrasyonu
        async function processKuveytTurkPayment(paymentData) {
            // NOT: Gerçek API anahtarları backend'de saklanmalı ve güvenli bir şekilde kullanılmalıdır
            const backendUrl = '/api/payment/kuveytturk'; // Backend endpoint'iniz
            
            const kuveytTurkData = {
                CardNumber: paymentData.cardNumber,
                CardExpireDateMonth: paymentData.cardExpiry.split('/')[0],
                CardExpireDateYear: '20' + paymentData.cardExpiry.split('/')[1],
                CardCVV2: paymentData.cardCvc,
                CardHolderName: paymentData.cardHolderName,
                Amount: paymentData.amount.toFixed(2),
                Currency: '0949', // TRY
                InstallmentCount: paymentData.installment,
                OrderId: generateOrderId(),
                CustomerName: paymentData.donorName || 'Bağışçı',
                CustomerEmail: paymentData.donorEmail || '',
                CustomerPhone: paymentData.donorPhone || '',
                OkUrl: window.location.origin + '/payment/callback',
                FailUrl: window.location.origin + '/payment/fail'
            };
            
            try {
                // Backend'e istek gönder (API anahtarları backend'de saklanmalı)
                const response = await fetch(backendUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(kuveytTurkData)
                });
                
                if (!response.ok) {
                    throw new Error('Backend hatası: ' + response.status);
                }
                
                const result = await response.json();
                
                if (result.status === 'success' && result.formHtml) {
                    // Kuveyt Türk için form gönderimi
                    const formContainer = document.createElement('div');
                    formContainer.innerHTML = result.formHtml;
                    document.body.appendChild(formContainer);
                    formContainer.querySelector('form').submit();
                    
                    return {
                        success: true,
                        redirectUrl: result.redirectUrl,
                        transactionId: result.orderId
                    };
                } else if (result.status === 'success' && result.redirectUrl) {
                    window.location.href = result.redirectUrl;
                    return {
                        success: true,
                        redirectUrl: result.redirectUrl,
                        transactionId: result.orderId
                    };
                } else {
                    throw new Error(result.error_message || 'Kuveyt Türk ödeme işlemi başarısız');
                }
            } catch (error) {
                // Backend yoksa veya hata varsa, demo modunda çalış
                if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError') || error.status === 404) {
                    console.warn('Backend bağlantısı yok, demo modunda çalışılıyor');
                    // Demo modunda başarılı ödeme simülasyonu
                    return new Promise((resolve) => {
                        setTimeout(() => {
                            resolve({
                                success: true,
                                transactionId: generateOrderId(),
                                message: 'Demo modu: Gerçek ödeme için backend entegrasyonu gerekli'
                            });
                        }, 2000); // 2 saniye bekle (gerçekçi görünsün)
                    });
                } else {
                    throw error;
                }
            }
        }
        
        // Yardımcı Fonksiyonlar
        function generateConversationId() {
            return 'CONV-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        }
        
        function generateBasketId() {
            return 'BASKET-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        }
        
        function generateBuyerId() {
            return 'BUYER-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        }
        
        function generateOrderId() {
            return 'ORDER-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        }
    </script>
</body>
</html>
